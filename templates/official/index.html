{% load static %}


<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Home</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="{% static 'official/assets/img/favv.png' %}" rel="icon">
  <link href="{% static 'official/assets/img/favv.png' %}" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
    rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="{% static 'official/assets/vendor/aos/aos.css' %}" rel="stylesheet">
  <link href="{% static 'official/assets/vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
  <link href="{% static 'official/assets/vendor/bootstrap-icons/bootstrap-icons.css' %}" rel="stylesheet">
  <link href="{% static 'official/assets/vendor/boxicons/css/boxicons.min.css' %}" rel="stylesheet">
  <link href="{% static 'official/assets/vendor/glightbox/css/glightbox.min.css' %}" rel="stylesheet">
  <link href="{% static 'official/assets/vendor/swiper/swiper-bundle.min.css' %}" rel="stylesheet">

  <!-- AYUCARE Main CSS File -->
  <link href="{% static 'official/assets/css/style.css' %}" rel="stylesheet">


</head>

<body>

  <!-- ======= Top Bar ======= -->
  <section id="topbar" class="d-flex align-items-center">
    <div class="container d-flex justify-content-center justify-content-md-between">

      

     

      <div class="cta d-none d-md-flex align-items-center">
        <a href="#" class="scrollto d-none">Get Started</a>
      </div>
    </div>
  </section>

  <!-- ======= Header ======= -->
  <header id="header" class="d-flex align-items-center">
    <div class="container d-flex align-items-center justify-content-between">

      <div class="logo">
        
        <!-- Uncomment below if you prefer to use an image logo -->
        <!-- <a href="#"><img src="{% static 'official/assets/img/logo.png' %}" alt="" class="img-fluid"></a>-->
      </div>

      

    </div>
  </header><!-- End Header -->



  <main id="main">


<link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/css/bootstrap.css" rel="stylesheet">
<link href="https://cdn.datatables.net/1.11.3/css/dataTables.bootstrap4.min.css" rel="stylesheet">



<div class="container">
  <h3 style="color: #3f993c;" class="text-center">Employee List <span onclick="formclr()" class="adnew"><a href="#contact"><i
          class="bi bi-plus-circle mr-2"></i>Add New</a></span> </h3>
  <div class="row">


    <table id="example" class="table table-striped table-bordered" style="width:100%">
      <thead>
        <tr>
          <th>id</th>
          <th>checked</th>
          <th>name</th>
          <th>type</th>
          <th>age</th>
          <th>description</th>
          <th>date</th>
          <th>Action</th>
          <th hidden>employeelist id</th>
          <th hidden>employeelist id</th>
        </tr>
      </thead>
      <tbody>
        {% for employeelist in employeelist %}
        <tr>
          <td>{{employeelist.id}}</td>
          <td>{{employeelist.checked}}</td>
          <td>{{employeelist.name}}</td>
          <td>{{employeelist.type}}</td>
          <td>{{employeelist.age}}</td>
          <td>{{employeelist.description}}</td>
          <td>{{employeelist.date}}</td>
          <td hidden>{{employeelist.id}}</td>
          <td hidden>{{employeelist.id}}</td>
          
          
          <td>
            <div class="acti" id="{{employeelist.id}}">
              <a href="#contact"><i onclick="editt('{{employeelist.id}}',this)" class="bi bi-pencil-square"></i></a>
              <a> <i onclick="deletempl('{{employeelist.id}}')" class="bi bi-trash ms-3 ng-red"></i> </a>
            </div>

          </td>
        </tr>
        {% endfor %}
      </tbody>
      <tfoot>
        <tr>
          <th>id</th>
          <th>checked</th>
          <th>name</th>
          <th>type</th>
          <th>age</th>
          <th>description</th>
          <th>date</th>
          <th>Action</th>
        </tr>
      </tfoot>
    </table>

  </div>
</div>

<!-- ======= Contact Section ======= -->
<section id="contact" class="contact">
  <div class="container">

  

    <h3 id="titedit" class="text-center">Add Employee</h3>



    <div class="row justify-content-center" data-aos="fade-up" data-aos-delay="300">
      <div class="col-xl-9 col-lg-12 mt-4">
        <form action="" method="POST" class="ajax reload" id="resform">
          {% csrf_token %}
          <input type="hidden" value="0" id="disID" name="id">
          
          <div class="row mb-3 justify-content-center">
            <div class="col-md-2 form-group place-self-center">
              <label for="checked">checked : </label>
            </div>
            <div class="col-md-8 form-group mt-3 mt-md-0">
              {{form.checked}}
            </div>
          </div>
          <div class="row mb-3 justify-content-center">
            <div class="col-md-2 form-group place-self-center">
              <label for="name">name : </label>
            </div>
            <div class="col-md-8 form-group mt-3 mt-md-0">
              <div class="row">
                <div class="col-12">{{form.name}}</div>
              </div>
            </div>
          </div>

          <div class="row mb-3 justify-content-center">
            <div class="col-md-2 form-group place-self-center">
              <label for="age">type : </label>
            </div>
            <div class="col-md-8 form-group mt-3 mt-md-0">
              {{form.type}}
            </div>
          </div>

          <div class="row mb-3 justify-content-center">
            <div class="col-md-2 form-group place-self-center">
              <label for="age">age : </label>
            </div>
            <div class="col-md-8 form-group mt-3 mt-md-0">
              {{form.age}}
            </div>
          </div>
          <div class="row mb-3 justify-content-center">
            <div class="col-md-2 form-group place-self-center">
              <label for="description">description : </label>
            </div>
            <div class="col-md-8 form-group mt-3 mt-md-0">
              {{form.description}}
            </div>
          </div>








          <div class="my-3">

          </div>
          <div class="text-center">
            <button class="btn btn-danger" type="submit">Submit</button>
          </div>
        </form>
      </div>

    </div>

  </div>
</section><!-- End Contact Section -->







</main><!-- End #main -->

<!-- ======= Footer ======= -->
<footer id="footer">

  <!-- <div class="footer-top">
    <div class="container">
      <div class="row">

        <div class="col-lg-3 col-md-6 footer-contact">
          <h3>AYUCARE</h3>
          <p>
             
            <strong>Phone : </strong>9876543210<br>
            <strong>Email : </strong>info@ayucare.com<br>
          </p>
        </div>

        <div class="col-lg-2 col-md-6 footer-links">
          <h4>Useful Links</h4>
          <ul>
            <li><i class="bx bx-chevron-right"></i> <a href="#">Home</a></li>
            <li><i class="bx bx-chevron-right"></i> <a href="#">About us</a></li>
            <li><i class="bx bx-chevron-right"></i> <a href="#">Services</a></li>
            <li><i class="bx bx-chevron-right"></i> <a href="#">Terms of service</a></li>
            <li><i class="bx bx-chevron-right"></i> <a href="#">Privacy policy</a></li>
          </ul>
        </div>

        <div class="col-lg-3 col-md-6 footer-links">
          <h4>Our Services</h4>
          <ul>
            <li><i class="bx bx-chevron-right"></i> <a href="#">Web Design</a></li>
            <li><i class="bx bx-chevron-right"></i> <a href="#">Web Development</a></li>
            <li><i class="bx bx-chevron-right"></i> <a href="#">Product Management</a></li>
            <li><i class="bx bx-chevron-right"></i> <a href="#">Marketing</a></li>
            <li><i class="bx bx-chevron-right"></i> <a href="#">Graphic Design</a></li>
          </ul>
        </div>

        <div class="col-lg-4 col-md-6 footer-newsletter">
          <h4>Join Our Newsletter</h4>
          <p>Tamen quem nulla quae legam multos aute sint culpa legam noster magna</p>
          <form action="" method="post">
            <input type="email" name="email"><input type="submit" value="Subscribe">
          </form>
        </div>

      </div>
    </div>
  </div> -->

  
</footer>
<!-- End Footer -->

<a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i
    class="bi bi-arrow-up-short"></i></a>

<!-- Vendor JS Files -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.0/jquery.min.js"
  integrity="sha256-xNzN2a4ltkB44Mc/Jz3pT4iU1cmeR0FkXs4pru/JxaQ=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@9.15.3/dist/sweetalert2.all.min.js"></script>
<script src="{% static 'official/assets/vendor/aos/aos.js' %}"></script>
<script src="{% static 'official/assets/vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
<script src="{% static 'official/assets/vendor/glightbox/js/glightbox.min.js' %}"></script>
<script src="{% static 'official/assets/vendor/isotope-layout/isotope.pkgd.min.js' %}"></script>
<script src="{% static 'official/assets/vendor/swiper/swiper-bundle.min.js' %}"></script>

<script src="{% static 'official/assets/js/main.js' %}"></script>

<script>
  $(document).on('submit', 'form.ajax', function (e) {
    e.preventDefault();
    var $this = $(this);
    var data = new FormData(this);
    var action_url = $this.attr('action');
    var reset = $this.hasClass('reset');
    var reload = $this.hasClass('reload');
    var redirect = $this.hasClass('redirect');
    var redirect_url = $this.attr('data-redirect');

    $.ajax({
      url: action_url,
      type: 'POST',
      data: data,
      cache: false,
      contentType: false,
      processData: false,
      dataType: "json",

      success: function (data) {

        var status = data.status;
        var title = data.title;
        var message = data.message;
        var pk = data.pk;

        if (status == "true") {
          if (title) {
            title = title;
          } else {
            title = "Success";
          }

          Swal.fire({
            title: title,
            html: message,
            icon: 'success',
          }).then(function () {
            if (redirect) {
              window.location.href = redirect_url;
            }
            if (reload) {
              window.location.reload();
            }
            if (reset) {
              window.location.reset();
            }
          });

        } else {
          if (title) {
            title = title;
          } else {
            title = "An Error Occurred";
          }
          Swal.fire({
            title: title,
            html: message,
            icon: "error"
          });

        }
      },
      error: function (data) {
        var title = "An error occurred";
        var message = "something went wrong";
        Swal.fire({
          title: title,
          html: message,
          icon: "error"
        });
      }
    });
  });
</script>
<!-- AYUCARE Main JS File -->



<script>

$(window).ready(function() {
  $("#btn-geolocation").click(findLocation);
});

function findLocation() {
  navigator.geolocation.getCurrentPosition(getCoords, handleErrors);
}

function getCoords(position) {
  $(".lat").val(position.coords.latitude);
  $(".lon").val(position.coords.longitude);
}

function handleErrors(error) {
  switch (error.code) {
    case error.PERMISSION_DENIED:
      alert("You need to share your geolocation data.");
      break;

    case error.POSITION_UNAVAILABLE:
      alert("Current position not available.");
      break;

    case error.TIMEOUT:
      alert("Retrieving position timed out.");
      break;

    default:
      alert("Error");
      break;
  }
}

</script>






<!-- edit delete -->
<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.11.3/js/dataTables.bootstrap4.min.js"></script>

<script>
  $(document).ready(function () {
    $('#example').DataTable();

  });
</script>


<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<script>

  function formclr() {
    $("#titedit").html("Add name");
    $("#resform").trigger("reset")
    
    
  }

  function deletempl(ids) {
    swal({
      title: "Are you sure?",
      text: "Once deleted, you will not be able to recover this Data!",
      icon: "warning",
      buttons: true,
      dangerMode: true,
    })
      .then((willDelete) => {
        if (willDelete) {
          $.ajax({
            url: "/official/deletempl/"+ids,
            type: "GET",
            success: function (response) {
              $('#' + ids).closest('tr').remove()
            }

          })
        } else {
          swal("Your imaginary file is safe!");
        }
      });
  }

  function editt(id, thisProp) {
    $("#titedit").html("Edit Schedule" + "<span onclick='formclr()' class='adnew'><a href='#contact'><i class='bi bi-plus-circle mr-2'></i>Add New</a></span>");
    

    var id = $(thisProp).closest('tr').find("td:eq(0)").html();
    var checked = $(thisProp).closest('tr').find("td:eq(1)").html();
    var name = $(thisProp).closest('tr').find("td:eq(2)").html();
    var type = $(thisProp).closest('tr').find("td:eq(3)").html();
    var starttime = $(thisProp).closest('tr').find("td:eq(4)").html();
    var endtime = $(thisProp).closest('tr').find("td:eq(5)").html();
   
    var checkedID = $(thisProp).closest('tr').find("td:eq(6)").html();
    var docID = $(thisProp).closest('tr').find("td:eq(7)").html();
    


    $('#id').val(id)
    $('#branid').val(parseInt(checkedID))
    $('#doctid').val(parseInt(docID))
    $('#type').val(type)
    $('#starttime').val(starttime)
    $('#endtime').val(endtime)
    
    $('#disID').val(id)

    


  }



</script>


<!-- edit delete -->




<script>
  $('#doctid').change(function () {
    $('#slugid').val($(this).val())
  });
</script>


<script>
  $('#branid').children().first().remove();
  $("<option selected>--Select checked--</option>").insertBefore($('#branid option:first-child'));

  $('#doctid').children().first().remove();
  $("<option selected>--Select name--</option>").insertBefore($('#doctid option:first-child'));



</script>


</body>

</html>